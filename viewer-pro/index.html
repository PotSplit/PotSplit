<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AeonSight Pro</title>

  <!-- PWA bits -->
  <meta name="theme-color" content="#0b0c10" />
  <link rel="manifest" href="manifest.webmanifest" />
  <!-- Inline favicon (prevents 404) -->
  <link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><defs><linearGradient id="g" x1="0" x2="1" y1="0" y2="1"><stop offset="0" stop-color="%2300ffd1"/><stop offset="1" stop-color="%23125bff"/></linearGradient></defs><rect width="64" height="64" rx="12" fill="%230b0c10"/><path d="M18 44l14-24 14 24" stroke="url(%23g)" stroke-width="4" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>' />

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">AeonSight <span class="pro">Pro</span></div>

    <div class="toolbar">
      <label class="btn">
        <input id="fileInput" type="file" accept=".epub,.pdf,.txt,.html" multiple hidden />
        + Add files
      </label>
      <button id="loadDemo" class="btn subtle">Sample EPUB</button>
      <button id="clearLib" class="btn danger">Clear library</button>
      <span class="pipe"></span>

      <button id="prevPage" class="btn">◀</button>
      <button id="nextPage" class="btn">▶</button>
      <button id="zoomOut" class="btn">−</button>
      <button id="zoomIn" class="btn">+</button>

      <label class="knob">FOV
        <input id="fov" type="range" min="48" max="96" value="72" />
      </label>
      <label class="knob">Font
        <input id="fontPct" type="range" min="80" max="180" value="100" />
      </label>

      <span class="pipe"></span>
      <button id="toggleReader" class="btn">Reader Mode</button>
      <button id="toggleLens" class="btn">Lens</button>

      <label class="knob">Sleep (min)
        <input id="sleepMins" type="number" min="1" max="120" value="10" />
      </label>
      <button id="sleepBtn" class="btn subtle" title="Test alert">Beep</button>

      <label class="knob" title="Lets EPUB run its own JS (less safe). Leave off if unsure.">
        <input id="allowScripts" type="checkbox" />
        Allow EPUB scripts (less safe)
      </label>
    </div>
  </header>

  <main class="main">
    <aside class="sidebar">
      <div class="sidehead">Library</div>
      <ul id="libList" class="list"></ul>
    </aside>

    <section id="content" class="stage" tabindex="0" aria-label="Reading area">
      <div class="empty">Drop an EPUB/PDF/TXT/HTML here or use “+ Add files”.</div>
      <div id="lens" class="lens" aria-hidden="true"></div>
    </section>
  </main>

  <footer class="status">
    <div><strong id="statName">—</strong></div>
    <div>Status: <span id="statStatus">Idle</span></div>
    <div>Progress: <span id="statProg">—</span></div>
    <div>Page: <span id="statPage">—</span></div>
    <div>Time: <span id="statTime">0:00</span></div>
    <div>Words: <span id="statWords">0</span></div>
  </footer>

  <!-- Vendor libs (CDN, no integrity to avoid mismatches) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script>
    // Point PDF.js worker to CDN copy
    if (window.pdfjsLib) {
      pdfjsLib.GlobalWorkerOptions.workerSrc =
        "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";
    }
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/epubjs/dist/epub.min.js"></script>

  <!-- App -->
  <script src="pro.js"></script>
</body>
</html>
